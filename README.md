# General Purpose Agent

A GUI-based general-purpose agent that runs in the system tray, featuring a chatbot interface using your local Ollama instance.

## Features

*   **System Tray Operation:** Runs discreetly in the system tray with options to show/hide the main window, check for updates, and quit.
*   **Graphical User Interface:** Built with PyQt5 for user interaction.
*   **Chatbot Integration:** Connects to a local Ollama instance for AI responses. The default model is `llama2` but the agent will attempt to use whatever model is configured in Ollama if `llama2` is not available (though this is best-effort, ensure your desired model is running in Ollama).
*   **Update Notifications:** The agent can check its original GitHub repository for updates and will notify you if a new version is available for manual download.

## Prerequisites

This section is divided for end-users (running a pre-built executable) and developers (building from source).

### For End-Users (Running the Executable)

*   **Ollama:** This application **requires** Ollama to be installed and running on your system for its chatbot functionality.
    *   Download and install Ollama from [https://ollama.com/](https://ollama.com/).
    *   Ensure you have pulled a model into Ollama (e.g., run `ollama pull llama2` in your terminal).
    *   The agent will attempt to connect to Ollama at `http://localhost:11434`.
*   The executable (`GeneralPurposeAgent.exe` or similar) is self-contained regarding Python and its libraries.

### For Developers (Building from Source)

*   **Python 3.7+:** Ensure it's added to your system's PATH. Download from [https://www.python.org/](https://www.python.org/).
*   **Pip:** The Python package installer, usually included with Python.
*   **Git:** Required for cloning the repository. Download from [https://git-scm.com/](https://git-scm.com/).
*   **Internet Connection:** For downloading PyInstaller and other potential dependencies during the build process.
*   (PyInstaller itself will be automatically installed by the `build.py` script if not present.)

## Running the Application (Post-Build)

Once you have built the application from source (see "Building from Source" below), or if you have obtained a pre-built version:

1.  Navigate to the `dist` directory (this directory is created by the build process).
2.  Run the executable:
    *   **Windows:** `GeneralPurposeAgent.exe`
    *   **Linux/macOS:** `./GeneralPurposeAgent` (The exact name might vary based on the build, but `GeneralPurposeAgent` is the default set in `build.py`).

    *Note: On the first launch, a one-file executable might take a moment to unpack itself to a temporary directory to run. Subsequent launches are typically faster.*

## Building from Source

If you have the source code and want to build the executable yourself:

1.  **Ensure Prerequisites for Building are met** (see above: Python, Pip, Git).

2.  **Clone the Repository:**
    If you haven't already, clone the repository to your local machine:
    ```bash
    git clone https://github.com/onlyzerosonce/SigmaOne # Replace with the actual repository URL if different
    cd SigmaOne # Or your repository's directory name
    ```

3.  **Icon Files (Optional but Recommended):**
    For the application to have a custom icon for the executable and system tray:
    *   Place an icon file named `icon.png` in the root of the project directory (i.e., in the same directory as `main.py` and `build.py`). This icon is used by the system tray.
    *   For a custom Windows `.exe` file icon, also place an `icon.ico` file (e.g., `icon.ico`) in the root directory.
    *   The `build.py` script will prioritize `icon.ico` for the Windows executable icon if present; otherwise, it will use `icon.png` if available. If no icon files are found, default system icons will be used.

4.  **Run the Build Script:**
    Open your terminal or command prompt in the project's root directory and execute:
    ```bash
    python build.py
    ```
    *   This script will first check if `PyInstaller` is installed and attempt to install it via `pip` if it's missing.
    *   It will then use `PyInstaller` to package `main.py` and its dependencies into a single executable file.
    *   Messages will be printed to the console indicating the progress and outcome of the build.

5.  **Find the Executable:**
    *   If the build is successful, the bundled application will be located in a new directory named `dist`.
    *   For example, on Windows, you'll find `dist/GeneralPurposeAgent.exe`.

## How it Works (Briefly)

*   The application uses PyQt5 for its graphical user interface and system tray integration.
*   Chat responses are generated by your local Ollama instance, accessed via its API.
*   Update checks (if a `.git` directory is present during development/build) compare the local commit against the remote GitHub repository. For packaged executables (which typically don't include the `.git` folder), the update check will gracefully inform the user if it cannot determine the version or will simply point to the project page.

## Known Issues and Limitations

*   **Ollama is an External Dependency:** The agent's chatbot functionality is entirely dependent on a correctly installed, running, and configured Ollama instance (including pulled models). The agent does not install or manage Ollama.
*   **Update Notifications Only:** The "Check for Updates" feature in the packaged application will inform you if a new version is available. You will need to visit the project's GitHub page to download and replace the application manually.
*   **Icon Dependency for Tray:** If `icon.png` is not present in the root directory *during the build process*, the system tray icon may not appear correctly or might use a default system icon.
*   **Cross-Platform Builds:** The `build.py` script using PyInstaller creates an executable for the operating system it is run on (e.g., running `build.py` on Windows creates a Windows EXE). To create executables for different operating systems (e.g., a macOS app or a Linux executable), you typically need to run the build process on each target OS.
*   **Initial Startup Time:** One-file executables created by PyInstaller may have a slightly longer startup time on first launch as they need to extract bundled files to a temporary location.

## Future Plans
*   Allow user to specify Ollama model and endpoint via UI or config file.
*   Enhance error reporting and recovery in the build script and main application.
*   Explore more integrated update mechanisms if feasible for a packaged application.
